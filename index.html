<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homework 4</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="./script.js"></script>
  <script type="text/javascript" src="./highscores.js"></script>
  <link rel="stylesheet" href="styles.css"></link>

</head>
<body>
  <!-- TODO: Create a separate page for your high scores   -->
  <!-- HINT: use local storage for your scores -->
  <div class="scores"><a href="highscores.html">View Highscores</a></div>

  <!-- TODO: Using javascript, add a timer -->
  <div class="timer">Time: <span id="time">60s</span></div>
  <script type="text/javascript">

document.getElementById('time').innerHTML =
  003 + ":" + 20;
startTimer();

function startTimer() {
  var presentTime = document.getElementById('time').innerHTML;
  var timeArray = presentTime.split(/[:]+/);
  var m = timeArray[0];
  var s = checkSecond((timeArray[1] - 1));
  if(s==59){m=m-1}
  
  document.getElementById('time').innerHTML =
    m + ":" + s;
  console.log(m)
  setTimeout(startTimer, 1000);
}

function checkSecond(sec) {
  if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
  if (sec < 0) {sec = "59"};
  return sec;
}

</script>

  <div class="wrapper">
    <div id="start-screen" class="start">
      <h1>Coding Quiz Challenge</h1>
      <p>
        Try to answer the following code-related questions within the time
        limit. Keep in mind that incorrect answers will penalize your
        score/time by ten seconds!
      </p>
      <!-- TODO: Clicking this button should go to your first question AND start the timer -->
      <button id="start" onclick="startQuiz()">Start Quiz</button>
    </div>

    <!-- Your questions should go here -->
    <div id="questions" class="hide">
      <h2 id="question-title"></h2>
      <div id="choices" class="choices"></div>
    </div>

    <!-- Typing in your name should and pressing submit should add to the highscores list -->
    <div id="end-screen" class="hide">
      <h2>All done!</h2>
      <p>Your final score is <span id="final-score"></span>.</p>
      <p>
        Enter initials: <input type="text" id="initials" max="3" />
        <button id="submit">Submit</button>
      </p>
    </div>

    <!-- Show the quiz taker if they got the question wrong or right by updating this div with Javascript -->
    <div id="feedback" class="feedback hide"></div>
  </div>

</body>
</html>